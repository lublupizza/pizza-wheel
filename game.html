<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé° Pizza Fortune Wheel</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5851a 0%, #d63e3e 50%, #8b2e2e 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .main-container {
            background: white;
            border-radius: 30px;
            padding: 40px;
            max-width: 700px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 60px;
            margin-bottom: 15px;
        }
        
        .title {
            font-size: 32px;
            font-weight: bold;
            color: #d63e3e;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 14px;
        }
        
        .wheel-section {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        
        .wheel-container {
            position: relative;
            width: 320px;
            height: 320px;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                #FFD700 0deg 18deg,
                #FF6B6B 18deg 36deg,
                #FFD700 36deg 54deg,
                #FF6B6B 54deg 72deg,
                #FFD700 72deg 90deg,
                #FF6B6B 90deg 108deg,
                #FFD700 108deg 126deg,
                #FF6B6B 126deg 144deg,
                #FFD700 144deg 162deg,
                #FF6B6B 162deg 180deg,
                #FFD700 180deg 198deg,
                #FF6B6B 198deg 216deg,
                #FFD700 216deg 234deg,
                #FF6B6B 234deg 252deg,
                #FFD700 252deg 270deg,
                #FF6B6B 270deg 288deg,
                #FFD700 288deg 306deg,
                #FF6B6B 306deg 324deg,
                #FFD700 324deg 342deg,
                #FF6B6B 342deg 360deg
            );
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 50px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2), inset 0 0 20px rgba(255,255,255,0.1);
            border: 5px solid white;
        }
        
        .wheel.spinning {
            animation: wheelSpin 4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        
        @keyframes wheelSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(var(--rotation)); }
        }
        
        .pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 30px solid #d63e3e;
            z-index: 10;
            filter: drop-shadow(0 3px 5px rgba(0,0,0,0.3));
        }
        
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        
        .spin-btn {
            background: linear-gradient(135deg, #d63e3e 0%, #b8302a 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(214, 62, 62, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .spin-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(214, 62, 62, 0.6);
        }
        
        .spin-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .result-section {
            display: none;
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%);
            border-radius: 20px;
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .result-section.show {
            display: block;
        }
        
        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .prize-emoji {
            font-size: 80px;
            margin-bottom: 15px;
            animation: bounce 0.6s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-30px); }
        }
        
        .prize-text {
            font-size: 28px;
            font-weight: bold;
            color: #d63e3e;
            margin-bottom: 20px;
        }
        
        .phone-input-group {
            margin: 20px 0;
        }
        
        .phone-input-group input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        
        .phone-input-group input:focus {
            outline: none;
            border-color: #d63e3e;
            box-shadow: 0 0 0 3px rgba(214, 62, 62, 0.1);
        }
        
        .info-text {
            background: #fff3cd;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 14px;
            color: #856404;
            border-left: 4px solid #ffc107;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4);
            font-weight: bold;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(40, 167, 69, 0.6);
        }
        
        .play-again-btn {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 14px;
            border-radius: 25px;
            cursor: pointer;
            margin-left: 10px;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(0, 123, 255, 0.4);
            font-weight: bold;
        }
        
        .play-again-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 123, 255, 0.6);
        }
        
        .prize-rules {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
        }
        
        .prize-rules h3 {
            color: #d63e3e;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .prize-rule {
            display: flex;
            align-items: center;
            margin: 10px 0;
            font-size: 13px;
            color: #555;
        }
        
        .prize-rule span {
            display: inline-block;
            margin-right: 10px;
            font-size: 20px;
            min-width: 30px;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <div class="logo">üçï</div>
            <div class="title">–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</div>
            <div class="subtitle">–ö—Ä—É—Ç–∏—Ç–µ –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π—Ç–µ –æ—Ç–ª–∏—á–Ω—ã–µ –ø—Ä–∏–∑—ã!</div>
        </div>
        
        <div class="prize-rules">
            <h3>üéÅ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏–∑—ã:</h3>
            <div class="prize-rule">
                <span>üçï</span>
                <span>–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑: –ü–ò–¶–¶–ê! (5% —à–∞–Ω—Å–æ–≤)</span>
            </div>
            <div class="prize-rule">
                <span>üí∞</span>
                <span>300 –±–∞–ª–ª–æ–≤ (10% —à–∞–Ω—Å–æ–≤)</span>
            </div>
            <div class="prize-rule">
                <span>üíµ</span>
                <span>200 –±–∞–ª–ª–æ–≤ (15% —à–∞–Ω—Å–æ–≤)</span>
            </div>
            <div class="prize-rule">
                <span>üèÖ</span>
                <span>100 –±–∞–ª–ª–æ–≤ (70% —à–∞–Ω—Å–æ–≤)</span>
            </div>
        </div>
        
        <div class="wheel-section">
            <div class="wheel-container">
                <div class="pointer"></div>
                <div class="wheel" id="wheel">üéØ</div>
            </div>
        </div>
        
        <div class="controls">
            <button class="spin-btn" id="spinBtn" onclick="spinWheel()">üéØ –ö–†–£–¢–ò–¢–¨!</button>
        </div>
        
        <div class="result-section" id="resultSection">
            <div class="prize-emoji" id="prizeEmoji"></div>
            <div class="prize-text" id="prizeText"></div>
            
            <div class="info-text">
                üì± –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å–≤–æ–µ–≥–æ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –∑–∞—á–∏—Å–ª–∏—Ç—å –≤–∞–º –±–æ–Ω—É—Å—ã
            </div>
            
            <div class="phone-input-group">
                <input type="tel" id="phone" placeholder="+7 (XXX) XXX-XX-XX" required>
                <div class="info-text">
                    ‚è±Ô∏è –ë–æ–Ω—É—Å—ã –±—É–¥—É—Ç –∑–∞—á–∏—Å–ª–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ <strong>12 —á–∞—Å–æ–≤</strong>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <button class="submit-btn" onclick="submitResult()">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                <button class="play-again-btn" onclick="resetGame()">üîÑ –ö—Ä—É—Ç–∏—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>
        </div>
    </div>

    <script>
        const prizes = [
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '200 –±–∞–ª–ª–æ–≤', value: 200, emoji: 'üíµ', probability: 15 },
            { name: '200 –±–∞–ª–ª–æ–≤', value: 200, emoji: 'üíµ', probability: 15 },
            { name: '200 –±–∞–ª–ª–æ–≤', value: 200, emoji: 'üíµ', probability: 15 },
            { name: '300 –±–∞–ª–ª–æ–≤', value: 300, emoji: 'üí∞', probability: 10 },
            { name: '300 –±–∞–ª–ª–æ–≤', value: 300, emoji: 'üí∞', probability: 10 },
            { name: '–ì–õ–ê–í–ù–´–ô –ü–†–ò–ó: –ü–ò–¶–¶–ê! üçï', value: 'pizza', emoji: 'üçï', probability: 5 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '200 –±–∞–ª–ª–æ–≤', value: 200, emoji: 'üíµ', probability: 15 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '300 –±–∞–ª–ª–æ–≤', value: 300, emoji: 'üí∞', probability: 10 },
            { name: '100 –±–∞–ª–ª–æ–≤', value: 100, emoji: 'üèÖ', probability: 70 },
            { name: '200 –±–∞–ª–ª–æ–≤', value: 200, emoji: 'üíµ', probability: 15 }
        ];

        let isSpinning = false;
        let selectedPrize = null;

        function spinWheel() {
            if (isSpinning) return;
            
            isSpinning = true;
            document.getElementById('spinBtn').disabled = true;
            document.getElementById('resultSection').classList.remove('show');

            const randomIndex = Math.floor(Math.random() * prizes.length);
            selectedPrize = prizes[randomIndex];
            
            const rotation = (randomIndex * 18) + 360 * 8 + Math.random() * 18;
            
            document.documentElement.style.setProperty('--rotation', rotation + 'deg');
            const wheel = document.getElementById('wheel');
            wheel.classList.add('spinning');

            setTimeout(() => {
                wheel.classList.remove('spinning');
                document.getElementById('prizeEmoji').textContent = selectedPrize.emoji;
                document.getElementById('prizeText').textContent = selectedPrize.name;
                document.getElementById('resultSection').classList.add('show');
                document.getElementById('phone').value = '';
                isSpinning = false;
            }, 4000);
        }

        async function submitResult() {
            const phone = document.getElementById('phone').value;
            
            if (!phone) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
                return;
            }

            try {
                const response = await fetch('https://pizza-wheel-api.vercel.app/api/submit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        phone: phone,
                        prize: selectedPrize.name,
                        value: selectedPrize.value,
                        timestamp: new Date().toISOString()
                    })
                });

                if (response.ok) {
                    alert('‚úÖ –°–ø–∞—Å–∏–±–æ! –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–Ω—è—Ç. –ë–æ–Ω—É—Å—ã –±—É–¥—É—Ç –∑–∞—á–∏—Å–ª–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 12 —á–∞—Å–æ–≤!');
                    resetGame();
                }
            } catch (error) {
                console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω');
                alert('‚úÖ –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–Ω—è—Ç! –°–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ!');
                resetGame();
            }
        }

        function resetGame() {
            location.reload();
        }
    </script>
</body>
</html>
